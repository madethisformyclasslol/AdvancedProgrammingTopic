@model DataSurvey.Models.Survey

@if (Model == null || (string.IsNullOrWhiteSpace(ViewBag.SelectedInstructor) && ViewBag.SelectedInstructorId == 0))
{
    <p>You've entered through odd means.</p>
    <a asp-action="Index" asp-controller="Home" class="btn btn-primary">Home</a>
}
else
{
    <h2>Survey Results</h2>

    <p><strong>Teacher Name:</strong> ViewBag.SelectedInstructor</p>
    <p><strong>Instructor ID:</strong> ViewBag.SelectedInstructorId</p>

    <h3>Selected Students:</h3>

        var allStudents = ViewBag.AllStudents as List<DataSurvey.Models.Student>;

    @if (allStudents != null && ViewBag.Students != null && ViewBag.Students.Any())
    {
        <ul>
            @foreach (var id in ViewBag.Students)
            {
                var student = allStudents.FirstOrDefault(s => s.StudentId == id);
                <li>@student?.Name</li>
            }
        </ul>
    }
    else
    {
        <p>No students were selected.</p>
    }

    <a asp-action="Index" asp-controller="Home" class="btn btn-primary mt-3">Home</a>
}
