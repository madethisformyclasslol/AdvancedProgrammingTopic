@model DataSurvey.Models.Survey

@if (Model == null || string.IsNullOrWhiteSpace(ViewBag.SelectedStudent) && ViewBag.SelectedStudentId == 0)
{
    <p>You've entered through odd means.</p>
    <a asp-action="Index" asp-controller="Home" class="btn btn-primary">Home</a>
}
else
{
    <h2>Survey Results</h2>
    <p><strong>Student Name:</strong> @ViewBag.SelectedStudent</p>
    <p><strong>Student ID:</strong> @ViewBag.SelectedStudentId</p>

    <h3>Selected Instructors:</h3>

        var allInstructors = ViewBag.AllInstructors as List<DataSurvey.Models.Instructor>;

    @if (allInstructors != null && ViewBag.Instructors != null && ViewBag.Instructors.Any())
    {
        <ul>
            @foreach (var id in ViewBag.Instructors)
            {
                var instructor = allInstructors.FirstOrDefault(i => i.InstructorId == id);
                <li>@instructor?.Name</li>
            }
        </ul>
    }
    else
    {
        <p>No instructors were selected.</p>
    }

    <a asp-action="Index" asp-controller="Home" class="btn btn-primary">Home</a>
}
